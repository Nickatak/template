services:
  # Edge mode: keep DB private (no host port publishing).
  mysql:
    ports: !reset []

  # Edge mode: ingress should route to backend by network alias.
  backend:
    ports: !reset []
    networks:
      default: {}
      edge:
        aliases:
          - template-backend

  # Edge mode: ingress should route to frontend by network alias.
  frontend:
    ports: !reset []
    networks:
      default: {}
      edge:
        aliases:
          - template-frontend

networks:
  # Parent/orchestration repo owns this shared network.
  edge:
    external: true
